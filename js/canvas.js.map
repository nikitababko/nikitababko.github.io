{"version":3,"file":"canvas.js","names":["space","floatySpace","colors","CanvasSpace","display","form","Form","pts","center","size","$divide","angle","window","innerWidth","count","line","Line","to","x","mouse","clone","r","Math","min","y","i","p","Vector","random","moveBy","rotate2D","PI","brightness","push","add","animate","time","fps","context","length","pt","Const","one_degree","stroke","fill","point","ln","getPerpendicularFromPoint","abs","getDistanceFromPoint","color","onMouseAction","type","evt","set","onTouchAction","this","bindMouse","play","$","resize","removeAll","remove"],"sources":["canvas.js"],"mappings":"AAAA,IAAIA,MAEJ,SAASC,cACP,IAAIC,EAAS,CACX,UAAW,UAAW,WAIxBF,MAAQ,IAAIG,YAAY,SAAU,WAAYC,UAC9C,IAAIC,EAAO,IAAIC,KAAMN,OAGjBO,EAAM,GACNC,EAASR,MAAMS,KAAKC,QAAQ,KAC5BC,GAA8B,GAApBC,OAAOC,WACjBC,EAA4B,IAApBF,OAAOC,WACfC,EAAQ,MAAKA,EAAQ,KAKzB,IAJA,IAAIC,EAAO,IAAIC,KAAK,EAAGL,GAAOM,GAAGjB,MAAMS,KAAKS,EAAG,GAC3CC,EAAQX,EAAOY,QAEfC,EAA2C,EAAvCC,KAAKC,IAAIvB,MAAMS,KAAKS,EAAGlB,MAAMS,KAAKe,GACjCC,EAAE,EAAGA,EAAEX,EAAOW,IAAK,CAC1B,IAAIC,EAAI,IAAIC,OAAQL,KAAKM,SAASP,EAAEC,KAAKM,SAASP,EAAGC,KAAKM,SAASP,EAAEC,KAAKM,SAASP,GACnFK,EAAEG,OAAQrB,GAASsB,SAAUL,EAAEH,KAAKS,GAAGjB,EAAON,GAC9CkB,EAAEM,WAAa,GACfzB,EAAI0B,KAAMP,GAIZ1B,MAAMkC,IAAI,CACRC,QAAS,SAASC,EAAMC,EAAKC,GAE3B,IAAK,IAAIb,EAAE,EAAGA,EAAElB,EAAIgC,OAAQd,IAAK,CAE/B,IAAIe,EAAKjC,EAAIkB,GAEbe,EAAGV,SAAUW,MAAMC,WAAa,GAAIlC,GACpCH,EAAKsC,QAAQ,GAAQC,KAAM1C,EAAOuB,EAAI,IAAKoB,MAAML,EAAI,GAGrD,IAAIM,EAAK,IAAI9B,KAAMwB,GAAKvB,GAAIF,EAAKgC,0BAA0BP,IAG7ClB,KAAKC,IAAK,GAAK,EAAID,KAAK0B,IAAKjC,EAAKkC,qBAAqBT,IAAOnB,GACxDC,KAAK0B,IAAIF,EAAGG,qBAAqB9B,IAEjC,GACdZ,EAAIkB,GAAGO,WAAa,KAAKzB,EAAIkB,GAAGO,YAAc,MAE9CzB,EAAIkB,GAAGO,WAAa,KAAKzB,EAAIkB,GAAGO,YAAc,KAGpD,IAAIkB,EAAQ,oBAAsB3C,EAAIkB,GAAGO,WAAY,IACrD3B,EAAKsC,OAAOO,GAAON,MAAM,GAAO7B,KAAK+B,KAIzCK,cAAe,SAASC,EAAMlC,EAAGM,EAAG6B,GACxB,QAAND,GACFjC,EAAMmC,IAAIpC,EAAEM,IAIhB+B,cAAe,SAASH,EAAMlC,EAAGM,EAAG6B,GAClCG,KAAKL,cAAcC,EAAMlC,EAAGM,MAIhCxB,MAAMyD,YACNzD,MAAM0D,OAGRzD,cAEA0D,EAAE/C,QAAQgD,QAAO,WACf5D,MAAM6D,YACNF,EAAE,UAAUG,SACZ7D","sourcesContent":["var space;\n\nfunction floatySpace() {\n  var colors = [\n    \"#FF3F8E\", \"#04C2C9\", \"#2E55C1\"\n  ];\n\n\n  space = new CanvasSpace(\"canvas\", \"#252934\" ).display();\n  var form = new Form( space );\n\n  // Elements\n  var pts = [];\n  var center = space.size.$divide(1.8);\n  var angle = -(window.innerWidth * 0.5);\n  var count = window.innerWidth * 0.05;\n  if (count > 150) count = 150;\n  var line = new Line(0, angle).to(space.size.x, 0);\n  var mouse = center.clone();\n\n  var r = Math.min(space.size.x, space.size.y) * 1;\n  for (var i=0; i<count; i++) {\n    var p = new Vector( Math.random()*r-Math.random()*r, Math.random()*r-Math.random()*r );\n    p.moveBy( center ).rotate2D( i*Math.PI/count, center);\n    p.brightness = 0.1\n    pts.push( p );\n  }\n\n  // Canvas\n  space.add({\n    animate: function(time, fps, context) {\n\n      for (var i=0; i<pts.length; i++) {\n        // rotate the points slowly\n        var pt = pts[i];\n\n        pt.rotate2D( Const.one_degree / 20, center);\n        form.stroke( false ).fill( colors[i % 3] ).point(pt, 1);\n\n        // get line from pt to the mouse line\n        var ln = new Line( pt ).to( line.getPerpendicularFromPoint(pt));\n\n        // opacity of line derived from distance to the line\n        var opacity = Math.min( 0.8, 1 - Math.abs( line.getDistanceFromPoint(pt)) / r);\n        var distFromMouse = Math.abs(ln.getDistanceFromPoint(mouse))\n\n        if (distFromMouse < 50) {\n          if (pts[i].brightness < 0.3) pts[i].brightness += 0.015\n        } else {\n          if (pts[i].brightness > 0.1) pts[i].brightness -= 0.01\n        }\n\n        var color = \"rgba(255,255,255,\" + pts[i].brightness +\")\"\n        form.stroke(color).fill( true ).line(ln);\n      }\n    },\n\n    onMouseAction: function(type, x, y, evt) {\n      if (type==\"move\") {\n        mouse.set(x,y);\n      }\n    },\n\n    onTouchAction: function(type, x, y, evt) {\n      this.onMouseAction(type, x, y);\n    }\n  });\n\n  space.bindMouse();\n  space.play();\n}\n\nfloatySpace();\n\n$(window).resize(function(){\n  space.removeAll();\n  $('canvas').remove();\n  floatySpace();\n});\n"]}